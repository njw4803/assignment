<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>과정형 평가 1번</title>
    <script th:replace="~{fragment/scripts :: scriptFragment}"></script>
    <script th:replace="~{fragment/css :: cssFragment}"></script>
    <link rel="stylesheet" type="text/css" media="all" th:href="@{/css/board.css}">
    <!-- Quill CDN -->
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
</head>
<body>
<div th:replace="~{fragment/header :: headerFragment}"></div>
<div th:replace="~{fragment/progress-bar :: progressBarFragment}"></div>
<div class="container">
    <div th:replace="~{fragment/menu :: menuFragment}"></div>
    <main>
        <h2>게시글 목록</h2>
        <div class="action-bar">
            <p><b>총 34건</b></p>
            <div class="action-buttons">
                <button id="openModal" class="register-button">등록</button>
                <button class="delete-button">삭제</button>
            </div>
        </div>
        <table class="table-container">
            <thead>
            <tr>
                <th class="checkbox-center"><input type="checkbox"></th>
                <th>순번</th>
                <th>작성자</th>
                <th>제목</th>
                <th>작성일</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td class="checkbox-center"><input type="checkbox"></td>
                <td>1</td>
                <td>이상주</td>
                <td>게시글 테스트1</td>
                <td>2024-09-03 09:02:14</td>
            </tr>
            <tr>
                <td class="checkbox-center"><input type="checkbox"></td>
                <td>2</td>
                <td>이준하</td>
                <td>게시글 테스트2</td>
                <td>2024-09-03 09:02:14</td>
            </tr>
            <tr>
                <td class="checkbox-center"><input type="checkbox"></td>
                <td>3</td>
                <td>장성일</td>
                <td>게시글 테스트3</td>
                <td>2024-09-03 09:02:14</td>
            </tr>
            <tr>
                <td class="checkbox-center"><input type="checkbox"></td>
                <td>4</td>
                <td>박종훈</td>
                <td>게시글 테스트4</td>
                <td>2024-09-03 09:02:14</td>
            </tr>
            <tr>
                <td class="checkbox-center"><input type="checkbox"></td>
                <td>5</td>
                <td>조현환</td>
                <td>게시글 테스트5</td>
                <td>2024-09-03 09:02:14</td>
            </tr>
            <tr>
                <td class="checkbox-center"><input type="checkbox"></td>
                <td>6</td>
                <td>김형재</td>
                <td>게시글 테스트6</td>
                <td>2024-09-03 09:02:14</td>
            </tr>
            <tr>
                <td class="checkbox-center"><input type="checkbox"></td>
                <td>7</td>
                <td>김승현</td>
                <td>게시글 테스트7</td>
                <td>2024-09-03 09:02:14</td>
            </tr>
            <tr>
                <td class="checkbox-center"><input type="checkbox"></td>
                <td>8</td>
                <td>노지원</td>
                <td>게시글 테스트8</td>
                <td>2024-09-03 09:02:14</td>
            </tr>
            <tr>
                <td class="checkbox-center"><input type="checkbox"></td>
                <td>9</td>
                <td>성준규</td>
                <td>게시글 테스트9</td>
                <td>2024-09-03 09:02:14</td>
            </tr>
            <tr>
                <td class="checkbox-center"><input type="checkbox"></td>
                <td>10</td>
                <td>홍성수</td>
                <td>게시글 테스트10</td>
                <td>2024-09-03 09:02:14</td>
            </tr>
            <tr>
                <td class="checkbox-center"><input type="checkbox"></td>
                <td>11</td>
                <td>이재범</td>
                <td>게시글 테스트11</td>
                <td>2024-09-03 09:02:14</td>
            </tr>
            <tr>
                <td class="checkbox-center"><input type="checkbox"></td>
                <td>12</td>
                <td>남상욱</td>
                <td>게시글 테스트12</td>
                <td>2024-09-03 09:02:14</td>
            </tr>
            </tbody>
        </table>
        <div class="pagination">
            <button class="page-button">1</button>
            <button class="page-button">2</button>
            <button class="page-button">3</button>
        </div>
    </main>
</div>

<!-- 모달 영역 -->
<div class="modal" id="myModal" display>
    <div class="modal-content">
        <span class="close-button" id="closeModal">&times;</span>
        <h2>게시글 작성</h2>
        <div class="form-group">
            <label for="author">작성자</label>
            <input type="text" id="author" name="author">
        </div>
        <div class="form-group">
            <label for="title">제목</label>
            <input type="text" id="title" name="title">
        </div>
        <div class="form-group">
            <label for="content">내용</label>
            <div id="editor-container"></div>
        </div>
        <div class="button-group">
            <button class="primary">작성 완료</button>
            <button class="secondary" id="cancelButton">취소</button>
        </div>
    </div>
</div>

<div th:replace="~{fragment/footer :: footerFragment}"></div>
</body>
<script>
    var quill = new Quill('#editor-container', {
        theme: 'snow',
        modules: {
            toolbar: [
                [{ 'header': [1, 2, 3, 4, 5, 6, false] }],
                ['bold', 'italic', 'underline'],
                [{ 'list': 'ordered'}, { 'list': 'bullet' }],
                ['link']
            ]
        }
    });

    // Quill 에디터 높이 조정
    document.querySelector('.ql-editor').style.height = '200px';

    document.addEventListener('DOMContentLoaded', function() {
        const openModalButton = document.getElementById('openModal');
        const modal = document.getElementById('myModal');
        const closeModalButton = document.getElementById('closeModal');
        const cancelButton = document.getElementById('cancelButton');
        const modalContent = document.querySelector('.modal-content');

        // 모달 열기
        openModalButton.addEventListener('click', function() {
            modal.style.display = 'flex';
        });

        // 모달 닫기
        function closeModal() {
            modal.style.display = 'none';
        }

        // 닫기 버튼 클릭 시 모달 닫기
        closeModalButton.addEventListener('click', closeModal);

        // 취소 버튼 클릭 시 모달 닫기
        cancelButton.addEventListener('click', closeModal);

        // 모달 영역 밖 클릭 시 모달 닫기 방지
        modal.addEventListener('click', function(event) {
            if (event.target === modal) {
                // 영역 밖 클릭 시에는 아무 동작도 하지 않음
            }
        });

        // 모달 내용 클릭 시 클릭 이벤트가 모달 영역으로 전파되지 않도록
        modalContent.addEventListener('click', function(event) {
            event.stopPropagation();
        });
    });

</script>
</html>
